# <h1 align=center> **Proyecto Final Grupal de HENRY** </h1>

<p align=center><img src="https://github.com/ramirou2/NY_TaxiGreen/assets/111613206/80d5c1d4-7cdb-40a3-b521-2b5e1b4b2b77" width=400> </p>

# <h1 align=center>**`NY_TaxiGreen: AnÃ¡lisis del movimiento de taxis en la ciudad de Nueva York y su relaciÃ³n con la calidad del aire y la contaminaciÃ³n sonora.`**</h1>

 ðŸ“”: [Reporte TÃ©cnico Completo](https://crichubiava.atlassian.net/l/cp/14Q0CXYV)

### **`Equipo`**</h2>


| <img src="https://avatars.githubusercontent.com/u/111613206?v=4" width=100> | <img src="https://media.licdn.com/dms/image/D4E03AQFDK8a0LZX7Sw/profile-displayphoto-shrink_100_100/0/1689894810692?e=1698883200&v=beta&t=JrdjWkYa1aZ4cpdwUXwafdGS1AvVGMrxBdZ6Nzdaf9w" width=100> | <img src="https://avatars.githubusercontent.com/u/79583157?v=4" width=100> | <img src="https://avatars.githubusercontent.com/u/69260155?v=4" width=100> | <img src="https://media.licdn.com/dms/image/D4E03AQH0E5IuAOAKjQ/profile-displayphoto-shrink_800_800/0/1692194604387?e=1698883200&v=beta&t=3ahkSTiqFkN0p_kJJRXjWvi7GAUMVazlrRERdPc56vw" width=100> |
|:---------------:|:---------:|:---------:|:---------:|:---------:| 
|<sub> Araque Roldan Mauricio Alejandro (https://github.com/araquester)</sub>|<sub> Biava, Cristian (https://github.com/Crichu)</sub>|<sub> LÃ³pez Guerra, Adriana Gabriela(https://github.com/AdrianaGLG)</sub>|<sub>Luna Paez, GastÃ³n Ramiro (https://github.com/ramirou2)</sub>|<sub> Rappaport, Fernando Ariel (https://github.com/TheFercho)</sub>|


### **`Esquema del Repositorio`**</h3>

```Python
.
â”œâ”€â”€ Complementary  (Datasets complementarios)
|       â””â”€â”€ fuel_consumption_ratings  
|       â””â”€â”€ yellow_taxis
    â”œâ”€â”€ air_quality_data.csv  (Dataset_CM_01)
    â”œâ”€â”€ car_noise.csv  (Dataset_CM_02)
    â”œâ”€â”€ weather.csv  (Dataset_CM_03)
â”œâ”€â”€ Datasets    (Datasets bases)
|       â””â”€â”€ Datasets_Clean  
|            â”œâ”€â”€ Alternative Fuel Vehicles US.csv
|            â”œâ”€â”€ ElectricCarData_Clean.csv
|            â”œâ”€â”€ Electric_and_Alternative_Fuel_Charging_Stations.csv
|            â”œâ”€â”€ Light Duty Vehicles.csv
|            â”œâ”€â”€ Vehicle Fuel Economy Data.csv
|            â”œâ”€â”€ taxi+_zone_lookup.csv
|            â”œâ”€â”€ taxi_zones.csv
    â”œâ”€â”€ Alternative Fuel Vehicles US.csv  (Dataset_01)
    â”œâ”€â”€ Electric and Alternative Fuel Charging Stations.csv  (Dataset_02)
    â”œâ”€â”€ ElectricCarData_Clean.csv  (Dataset_03)
    â”œâ”€â”€ ElectricCarData_Norm.csv  (Dataset_04)
    â”œâ”€â”€ Light Duty Vehicles.csv  (Dataset_05)
    â”œâ”€â”€ Vehicle Fuel Economy Data.csv  (Dataset_06)
    â”œâ”€â”€ data_dictionary_trip_records_yellow.pdf
    â”œâ”€â”€ taxi+_zone_lookup.csv (Dataset_07)
    â”œâ”€â”€ taxi_zones.dbf
â”œâ”€â”€ EDA_Notebooks
    â”œâ”€â”€ EDA_Dataset_01_&_03.ipynb
    â”œâ”€â”€ EDA_Dataset_02.ipynb
    â”œâ”€â”€ EDA_Dataset_06.ipynb
    â”œâ”€â”€ EDA_Dataset_CM_01.ipynb
    â”œâ”€â”€ EDA_Dataset_CM_02_&_03_&_Tripdata_2023_05_parquet.ipynb
    â”œâ”€â”€ EDA_fuel_consumption_ratings.ipynb
â”œâ”€â”€ ETL_Notebooks
|        â””â”€â”€ Normalizacion_Columnas
|           â”œâ”€â”€ normalizacion_Datasets_bases.ipynb
|           â”œâ”€â”€ normalizacion_Datasets_complementarios.ipynb
    â”œâ”€â”€ ETL_Dataset_01_&_03_&_04_&_07.ipynb
    â”œâ”€â”€ ETL_Dataset_02.ipynb
    â”œâ”€â”€ ETL_Dataset_06.ipynb
    â”œâ”€â”€ ETL_Dataset_07.ipynb
    â”œâ”€â”€ ETL_Dataset_CM_01.ipynb
    â”œâ”€â”€ ETL_Dataset_CM_02_&_03.ipynb
    â”œâ”€â”€ ETL_fuel_consumption_ratings.ipynb
â”œ .gitignore
â”œ README.md
â”œ requirements.txt


```

# <h2 align=left> **Informe** </h2>

### **`PropÃ³sito del proyecto`**

â€‹Taxi Green, una empresa de servicios de transporte de pasajeros, que actualmente se encuentra operando en el sector de micros de media y larga distancia, estÃ¡ interesada en invertir en el sector de transporte de pasajeros con automÃ³viles.

Con una visiÃ³n de un futuro menos contaminado y ajustarse a las tendencias de mercado actuales, quieren corroborar la relaciÃ³n entre estos medios de transporte particulares con:

* Calidad del aire

* ContaminaciÃ³n sonora

PropÃ³sito: estudiar la posibilidad de implementar vehÃ­culos elÃ©ctricos a su flota; ya sea en su totalidad o parte de la misma.

Se pretende hacer un anÃ¡lisis preliminar del movimiento de los taxis en la ciudad de Nueva York, para poder obtener un marco de referencia y poder tomar decisiones bien fundamentadas.â€‹

### **`Objetivo general`**

AnÃ¡lisis del movimiento vehicular en NYC y su relaciÃ³n con la contaminaciÃ³n del aire y sonora.

### **`Objetivos especÃ­ficos`**

Comprobar:

RelaciÃ³n entre el mercado automotor y las actividades de transporte en la ciudad de Nueva York con:

    *   La calidad del aire (emisiones de CO2).

    *   La contaminaciÃ³n sonora.

    *   Efecto de las condiciones climÃ¡ticas con la cantidad de viajes solicitados. 

### **`KPIs Propuestos`**

Se proponen los siguientes KPIs con base de mediciÃ³n trimestral:

* Promedio de emisiÃ³n de CO2 de la nueva flota menor a 3

![](<Imagenes/KPI 01.jpg>)

* Ruido promedio por diseÃ±o de la nueva flota 50 dB

![](<Imagenes/KPI 02.jpg>)
  
* VehÃ­culos elÃ©ctricos en la flota > 60%

![](<Imagenes/KPI 03.jpg>)
  
* autonomÃ­a de la nueva flota entre > 300 km

![](<Imagenes/KPI 04.jpg>)
  
* AntigÃ¼edad de la flota < 3 aÃ±os (ningÃºn vehÃ­culo puede tener mÃ¡s de 3 aÃ±os)

![](<Imagenes/KPI 05.jpg>)

### **`Alcance (Desarrollar)`**

> [!IMPORTANT]
> Crucial information necessary for users to succeed.
> Debe tener:
>  * AnÃ¡lisis descriptivo del movimiento de los taxis en NYC (patrones por semana, franja horaria). Si hay datos, incluir tambiÃ©n: micros, uber, vehÃ­culos particulares, tipos de motor (combustible, elÃ©ctrico, hÃ­brido).
>
> * AnÃ¡lisis descriptivo de la relaciÃ³n entre uso de medios de transporte particulares y la calidad del aire segÃºn el Ã¡rea (Â¿QuÃ© medios se utilizan y cuÃ¡l es el nivel de contaminaciÃ³n del aire?).
>
> * AnÃ¡lisis descriptivo de la relaciÃ³n entre uso de medios de transporte particulares y la contaminaciÃ³n sonora (Â¿QuÃ© medios se utilizan y cuÃ¡l es el nivel de contaminaciÃ³n sonora?).
>
> * Modelo predictivo ML: evoluciÃ³n de la calidad del aire en funciÃ³n del uso de los medios de transporte (distintos escenarios considerando distintos tipos de medios de transporte)
>
> * Modelo predictivo ML: modelar la evoluciÃ³n de la contaminaciÃ³n sonora en funciÃ³n del uso de los medios de transporte (distintos escenarios considerando distintos tipos de medios de transporte)
>
> * Aplica para todo: comparar datos de autos a combustiÃ³n, autos elÃ©ctricos, autos hÃ­bridos (la actividad que quiere estudiar la empresa) vs micros (la actividad actual de la empresa)

> [!NOTE]\
> PodrÃ­a tener:
> * Modelo para analizar tarifas variables en base al movimiento de las distintas franjas de dÃ­as y horarios y condiciones climÃ¡ticas.
> * AnÃ¡lisis del retorno de la inversiÃ³n en una flota de autos elÃ©ctricos.

> [!WARNING]\
> Fuera del alcance:
> * AnÃ¡lisis de marketing
> * CalificaciÃ³n de servicios y/o condutores

### **`Matriz de responsabilidades`**

:black_circle: Main

:small_red_triangle:  Support

![Matriz de Responsabilidades](<Imagenes/Matriz de responsabilidades.jpg>)



# <h2 align=left> **Plan de trabajo** </h2>

| Hito | Nombre | Entregables | Esperado | Fecha |
|:---------------:|:---------:|:---------:|:---------:|:---------:|
| Demo Sprint #1 | Data Ingest  Process | Puesta en marcha el proyecto y Trabajando los Datos: <br> * Kickoff del proyecto  <br>* Entendimiento de las necesidades <br>* Documentar alcance , objetivo y entregables <br>* KPIâ€™s <br>* ImplementaciÃ³n de stack propuesto | * MÃ¡s de 4 KPIs <br>* Mencionar las tecnologÃ­as a usar <br>* DocumentaciÃ³n de alcance del proyecto <br>* EDA preliminar, calidad del dato <br>* Repo Github <br>* PlanificaciÃ³n y estimaciÃ³n de esfuerzos (Diagrama de Gantt) | 09/08/2023 |
|Demo Sprint #2 | Data Analytics & ML |Data Engineering:<br> * Arquitectura propuesta y diagrama<br> * Diccionarios de datos <br> * CreaciÃ³n del DW <br> * Automatizar el DW <br> * Carga incremental | * DW con herramientas Big Data (HDFS, Hive, Spark y/o motores No-SQL y/o Servicios Cluod) <br> * DW automatizado con carga inicial <br> * Al menos 2 tablas de hechos y 5 dimensionales  <br> * Carga incremental de datos (video) | 23/08/2023
| Demo Sprint #3 | Data Analytics y ML |Etapa de Analytics y Machine Learning <br> * Dashboard <br> * Reportes <br> * Storytelling <br> * Modelo ML <br> * Ajustes del modelo |* Implementar modelo de ML <br> * Implementar un reporte de visualizaciÃ³n geogrÃ¡fica.|06/09/2023
| |Demo Final |  * Demo general del proyecto <br> * Entregable final<br> * DocumentaciÃ³n| * PresentaciÃ³n dirigida a la direcciÃ³n de la compaÃ±Ã­a. <br> * Retomar lo mostrado en presentaciones anteriores. <br> * Retoques finales en base a recomendaciones de HM y PO. | 06/09/2023 |
***

### <h3 align=left>**`Propuesta de trabajo`** </h3>
***

### RecopilaciÃ³n y limpieza
- [x] Se utilizan los archivos .csv provistos por el cliente. TambiÃ©n se estudian los datasets complementarios facilitados por el cliente, asÃ­ como tambiÃ©n informaciÃ³n extra recopilada por el equipo.
- [x] Los datasets provienen tanto de archivos .csv como de APIs. Estos Ãºltimos son extraÃ­dos con tÃ©cnicas de web scrapping. 
- [x] Los dataset considerados necesarios para el desarrollo del producto final del proyecto, se limpian, ordenan y normalizan.
- [x] AdemÃ¡s, se realiza un anÃ¡lisis exploratorio de datos con el objetivo de detectar insights de interÃ©s para el cliente.

`TecnologÃ­a y librerÃ­as utilizadas: Python, Pandas, Numpy, os`

### CreaciÃ³n de un diccionario y diagrama DER
- [x] Los datasets son procesados y analizados para generar un diccionario de las variables de interÃ©s. 
- [x] Se utiliza esta informaciÃ³n para establecer un diagrama de entidad - relaciÃ³n que facilite su posterior anÃ¡lisis

### DisponibilizaciÃ³n de la informaciÃ³n
- [x] Se crea un DataWarehouse utilizando las herramientas Cloud de Google.

`TecnologÃ­a y librerÃ­as utilizadas: MySQL, Google Cloud`

### AnÃ¡lisis de la informaciÃ³n y Dashboard interactivo
- [x] Se diseÃ±a un dashboard con informaciÃ³n relevante para el negocio teniendo en cuanta los KPIs definidos para tal fin.

`TecnologÃ­a y librerÃ­as utilizadas: Power BI / Streamlit /Locker studio?`

### Modelo de Machine Learning
- [x] Modelo predictivo ML: evoluciÃ³n de la calidad del aire en funciÃ³n del uso de los medios de transporte (distintos escenarios considerando distinta composiciÃ³n de la flota en cuanto a modelos de auto)
- [x] Modelo predictivo ML: modelar la evoluciÃ³n de la contaminaciÃ³n sonora en funciÃ³n del uso de los medios de transporte (distintos escenarios considerando distinta composiciÃ³n de la flota en cuanto a modelos de auto)

`TecnologÃ­a y librerÃ­as utilizadas: Python, Pandas, Numpy, Seaborn, Matplotlib, sklearn`

### App / Web interactiva
- [x] El modelo de machine learnig de disponibiliza a travÃ©s de una pÃ¡gina web, facilitando la interacciÃ³n con el cliente.
- [x] TecnologÃ­a y librerÃ­as utilizadas: Python, FastAPI, Render

### <h3 align=left>**`DefiniciÃ³n de identidad visual de marca`** </h3>

### Desarrollo de un logotipo

El desarrollo de un logotipo implica la creaciÃ³n de un sÃ­mbolo visual o un diseÃ±o grÃ¡fico que representa la esencia de la marca. El logotipo puede consistir en una combinaciÃ³n de elementos como formas, letras, imÃ¡genes o iconos que juntos comunican la identidad y los valores de la empresa. 

Para nuestro proyecto, desarrollamos el logotipo de la empresa consultora (Taxi Green) y el de nuestro grupo de trabajo (LBD) a travÃ©s de la evaluaciÃ³n de las alternativas que ofrecÃ­an plataformas de diseÃ±o tales como:

- Tailor Brands | Small Business Set-up Made Easy 
- Logo Maker | Used By 2.3 Million Startups  
- DiseÃ±a un Logo con Nuestro Creador de Logo Gratis | FreeLogoServices  
- Crear Logos Gratis - Creador de logos - Free Logo Design

### Opciones de logo
| <img src="Imagenes/Opcion Logo 01.jpg" width=200> | <img src="Imagenes/Opcion Logo 02.jpg" width=200> | <img src="Imagenes/Opcion Logo 03.jpg" width=200> | <img src="Imagenes/Opcion Logo 04.jpg" width=200> | <img src="Imagenes/Opcion Logo 05.jpg" width=200> |
|:---------------:|:---------:|:---------:|:---------:|:---------:| 
| <img src="Imagenes/Opcion Logo 06.jpg" width=200> | <img src="Imagenes/Opcion Logo 07.jpg" width=200> | <img src="Imagenes/Opcion Logo 08.jpg" width=200> | <img src="Imagenes/Opcion Logo 09.jpg" width=200> | <img src="Imagenes/Opcion Logo 10.jpg" width=200> |

### Grupalmente se definiÃ³ el diseÃ±o final del grupo de trabajo:

<p align= Center>Logo Final Empresa <br>
<img src="Imagenes/Logo Final.jpg" width=450> </p>

<p align= Center>Logo Corporativo <br>
<img src="Imagenes/Logo Corporativo.jpg" width=200> </p>

## Trabajo realizado en ETL

### RecopilaciÃ³n y limpieza

En la carpeta Datasets se encuentran los archivos .csv con la informaciÃ³n provista por el cliente que contienen los datos a ser procesados.

En general, se realizÃ³ un proceso de limpieza y transformaciÃ³n de todos los dataset que incluyÃ³:

- Eliminar columnas sin utilidad.

- Reemplazar o eliminar valores nulos, duplicados, faltantes y NA.

- Normalizar datos.

Seguidamente, se llevÃ³ a cabo un anÃ¡lisis exploratorio de los datos con el objetivo de detactar insights que puedan aportar informaciÃ³n valiosa en las posteriores etapas del proyecto.

## ETL y EDA de datasets relacionados con la emisiÃ³n de CO2

### Alternative Fuel Vehicles US.csv

Contiene informaciÃ³n sobre vehÃ­culos de combustible alternativo en Estados Unidos. Es una recopilaciÃ³n sobre vehÃ­culos de combustible alternativo en Estados Unidos, incluyendo sus caracterÃ­sticas tÃ©cnicas y de rendimiento.

Consta de 882 filas y 22 columnas. Cada fila representa un vehÃ­culo especÃ­fico, mientras que las columnas contienen informaciÃ³n y caracterÃ­sticas tÃ©cnicas relacionadas con los vehÃ­culos.

> EDA Detalle

En el siguiente grÃ¡fico se puede apreciar que en el Top5 se encuentran 3 marcas alemanas: Audi, Mercedes Benz y BMW, todos con fama de buen funcionamiento y motores de alto rendimiento y potencia, ademÃ¡s de ser marcas muy reconocidas a nivel mundial, generalmente asociadas a un nivel alto de poder adquisitivo.

TambiÃ©n se encuentran Ford, la marca Norteamericana por excelencia y Toyota, tambiÃ©n muy reconocida a nivel mundial y sinÃ³nimo de confiabilidad.

Se puede concluir que el mercado estadounidense se inclina hacia marcas de renombre y reconocidas por su mecÃ¡nica potente, confiable y duradera.
<p align= Center>
<img src="Imagenes/EDA Imagen 01.jpg" width=800> </p>

AsÃ­ mismo,  los vehÃ­culos hÃ­bridos (Hybrid Electric) se destacan por el resto, notando el arraigo de la sociedad a desprenderse del uso del petroleo, ya sea por comodidad, potencia, fidelidad, etc.
<p align= Center>
<img src="Imagenes/EDA Imagen 02.jpg" width=800> </p>

Sin embargo, en lo que eficiencia energÃ©tica se refiere, en este caso, reflejada por la autonomÃ­a en marcha puramente elÃ©ctrica, los vehÃ­culos elÃ©ctricos sacan una ventaja considerable sobre los hÃ­brido.

El siguiente histograma muestra que la autonomÃ­a media de los modelos elÃ©ctricos evaluados ronda los 250 km, En su mayorÃ­a superan los 200 km y alcanzan valores de hasta 500 km.
<p align= Center>
<img src="Imagenes/EDA Imagen 03.jpg" width=800> </p>

### ElectricCarDat_Clean.csv

Contiene datos relacionados con vehÃ­culos elÃ©ctricos. 

Consta de 103 filas y 14 columnas. Cada fila representa un modelo especÃ­fico de coche elÃ©ctrico y cada columnas proporciona informaciÃ³n detallada sobre sus caracterÃ­sticas, incluyendo sus detalles de rendimiento, autonomÃ­a, eficiencia y opciones de carga entre otras.

> EDA Detalle

CorrelaciÃ³n AutonomÃ­a (rango elÃ©ctrico) - Precio

En el siguiente grÃ¡fico se presenta lo que parece una correlaciÃ³n positiva entre el precio y el rendimiento en km (autonomÃ­a). 

Se observa un outlier con autonomÃ­a de 1.000 km y precio de 200.000 euros que corresponde al segmento es un S, donde se enmarcan los sÃºper deportivos.

En lÃ­nea con esto, cabe destacar la correspondencia del tipo de segmento con el precio y la autonomÃ­a. Vale decir que los mejores rendimientos y mayores precios van de la mano con el segmento, notese el F que se refiere a sedanes de lujo y S que son los sÃºper deportivos. En cuanto a los del segmento A son los mÃ¡s econÃ³micos, pequeÃ±os y de menor rendimiento.

Para destacar en este punto tenemos en el Ã¡rea central a vehÃ­culos con una autonomÃ­a de alrededor de 400 km y un precio promedio de 60 000 euros, correspondientes al segmento C (compactos de 5 pasajeros) y D (Segmento mejorado en espacio, rendimiento y confort, con un precio un poco mÃ¡s elevado).

En cuanto al segmento A y B ocupan un rango razonable de rendimiento y precio, donde se debe mirar con mÃ¡s Ã©nfasis los de tipo B dado su mayor tamaÃ±o.

Los del tipo B podrÃ­an ser nuestro producto objetivo en vistas a proyectar una flota eficiente.

<p align= Center>
<img src="Imagenes/EDA Imagen 04.jpg" width=800> </p>

CorrelaciÃ³n Body Style - Precio

Si tenemos en cuenta el formato o Body Style no se nota tanto la clusterizaciÃ³n por precio y rango, sin embargo se destaca el predominio del estilo hatchback y SUV.

<p align= Center>
<img src="Imagenes/EDA Imagen 05.jpg" width=800> </p>

Carga rÃ¡pida - Precio

La situaciÃ³n anterior se repite si ahora en vez de rango de rendimiento en Km empleamos la velocidad de carga en km/h, se nota que a medida que este parametro crece, tambiÃ©n lo hace el precio. 

En cuanto al segmento la distribuciÃ³n se correlaciona con los precios, tal como se destacÃ³ anteriormente.

<p align= Center>
<img src="Imagenes/EDA Imagen 06.jpg" width=800> </p>

### Vehicle Fuel Economy Data.csv

Contiene datos detallados sobre la economÃ­a de combustible y las especificaciones tÃ©cnicas de una variedad de vehÃ­culos, incluyendo informaciÃ³n sobre consumo de combustible, emisiones y caracterÃ­sticas del motor.

Consta de 46186 filas y 82 columnas. Hay una variedad de caracterÃ­sticas relacionadas con la economÃ­a de combustible, el rendimiento y las especificaciones tÃ©cnicas de los vehÃ­culos.

> EDA Detalle

EvoluciÃ³n de Emisiones de CO2 a los largo de los aÃ±os

Claramente, la tendencia a fabricar vehÃ­culos con cada vez menos emisiones de CO2 es clara y se intensifica a partir del 2004.

<p align= Center>
<img src="Imagenes/EDA Imagen 07.jpg" width=800> </p>

EvoluciÃ³n de Emisiones de CO2 a los largo de los aÃ±os

Claramente, la tendencia a fabricar vehÃ­culos con cada vez menos emisiones de CO2 es clara y se intensifica a partir del 2004.

<p align= Center>
<img src="Imagenes/EDA Imagen 08.jpg" width=800> </p>

EmisiÃ³n por tipos de combustible

Como es obvio, los vehÃ­culos elÃ©ctricos son los que menos emiten. 

En cuanto a los vehÃ­culos de gasolina, no hay una gran diferencia entre los que usan grado premiun o grado medio. SÃ­ es notable que los que usan gasolina regular son los que mÃ¡s CO2 emiten.

<p align= Center>
<img src="Imagenes/EDA Imagen 09.jpg" width=800> </p>

Emisiones promedio por Clase de vehÃ­culo (2022)

Claramente, los modelos menos nocivos para el aire son los compactos, seguidos por los vehÃ­culos grandes y medianos.

En el otro extremo del grÃ¡fico, se encuentran los autos deportivos (two seats) y las Vans, que seguramente no serÃ¡n considerados para nuestra flota.

Teniendo en cuenta que la flota de vehÃ­culos transitarÃ¡ por calles de la ciudad, concideramos que las Pick Ups y las SUVs son vehÃ­culos de gran porte y muy incÃ³modos para estos fines.  

<p align= Center>
<img src="Imagenes/EDA Imagen 10.jpg" width=800> </p>

Cabe destacar que este dataset cuenta con informaciÃ³n sobre vehÃ­culos a gasolina que no serÃ¡n tenidos en cuenta para conformar la flota de vehÃ­culos de la nueva unidad de negocios.

MY2012-2023_Battery_Electric_Vehicles.csv, MY2012-2023 Plug-in Hybrid Electric Vehicles.csv, MY2022 Fuel Consumption Ratings.csv y MY2023 Fuel Consumption Ratings.csv
Se trata de un conjunto de datos, compuesto por 4 archivos, que contienen informaciÃ³n sobre vehÃ­culos fabricados en los aÃ±os 2012 a 2023.

Cada archivo contiene datos de vehÃ­culos con un tipo de combustible (elÃ©ctrico, hÃ­brido o a combustiÃ³n). Las columnas contienen informaciÃ³n sobre diversas caracterÃ­sticas de los vehÃ­culos, como su potencia, consumo de energÃ­a, autonomÃ­a y emisiones.

Ante todo, recordamos los objetvios planteados que se relacionan con este Dataset:

Emisiones CO2 < 300 gpm (320 g/km)

AutonomÃ­a: >300 km

En cuanto a emisiones:

Emisiones por tipo de combustible:

En el dataset utilizado:

B = electricidad

X = gasolina regular

Z = gasolina premium

Como era de esperar, los vehÃ­culos elÃ©ctricos son los que menos emiten, con valores de 0.

Hay que destacar que es notable la diferencia entre B/X (78 g/km) y B/Z (112 g/km). Quiere decir que el hibrido elÃ©ctrico/gasolina regular emite un 30% menos CO2 que el hÃ­brido elÃ©ctrico/gasolina premium.

<p align= Center>
<img src="Imagenes/EDA Imagen 11.jpg" width=800> </p>

Emisiones por clase de vehÃ­culo:

El objetivo que nos habÃ­amos puesto era 300 g/m (320 g/km) (en base al archivo Vehicle Fuel Economy Data.csv). Este objetivo lo pusimos teniendo en cuenta TODOS los vehÃ­culos del mercado, inclusive, lo que usan gasolina.

En este caso, sÃ³lo analizamos elÃ©ctrico e hÃ­bridos. Nuestra flota va a estar compuesta de elÃ©ctricos e hÃ­brido. Por ende, tenemos que revisar el objetivo planteado originalmente.

<p align= Center>
<img src="Imagenes/EDA Imagen 12.jpg" width=800> </p>

ConclusiÃ³n en cuanto a emisiones de CO2:

En primer lugar, debemos reformular el KPI puesto que el valor anterior los definimos basandonos en un dataset que contiene vehÃ­culos a gasolina. Luego definimos no tenerlos en cuenta en nuestro anÃ¡lisis por la tendencia en la ciudad y la exigencias gubernamentales.

Los vehÃ­culos target para nuestra flota (Full-size y Mid-size) emiten, en promedio, menos de 20 g/km.

*AsÃ­ mismo, tambiÃ©n se observa que los modelos hÃ­bridos elÃ©ctrico/gasolina regular son mucho menos contaminantes que los modelos elÃ©ctricos/gasolina premium.

En cuanto a autonomÃ­a:

AutonomÃ­a por tipo de vehÃ­culo:

<p align= Center>
<img src="Imagenes/EDA Imagen 13.jpg" width=800> </p>

En el dataset utilizado:

B = electricidad

X = gasolina regular

Z = gasolina premium

Se observa que los vehÃ­culos elÃ©ctricos son los que menos autonomÃ­a tienen (en promedio). Y los vehÃ­culos con mÃ¡s autonomÃ­a son los HÃ­bridos elÃ©ctrico/gasolina premiun (+80 % respecto al elÃ©ctrico).

Sin embargo, la autonomÃ­a promedio de los autos elÃ©ctricos estÃ¡ por encima de los 400 km, lo cual se situa dentro de la franja establecida como aceptable para nuestra flota (> 300 km).

AutonomÃ­a por clase de vehÃ­culo:

En cuanto a autonomÃ­a, podemos ver que los Full-size tienen un promedio (300km) al lÃ­mite de nuestro rango aceptable de autonomÃ­a (de 300 a 500 km).

TambiÃ©n es notorio que el promedio de autonomÃ­a en los mid-size (460 km) es perfecto para nuestro objetivo.

<p align= Center>
<img src="Imagenes/EDA Imagen 14.jpg" width=800> </p>

ConclusiÃ³n en cuanto a autonomÃ­a:

Los vehÃ­culos elÃ©ctricos cumplen, en promedio (400 km), con el rango propuesto de autonomÃ­a objetivo para nuestra flota.

Si observamos las clases de vehÃ­culos, los Full-size estÃ¡n al lÃ­mite del rango objetivo (300 km). Mientras que los Mid-size tienen un promedio (460km) perfecto para nuestro rango objetivo. Lo cual podrÃ­a marcarnos una inclinaciÃ³n hacia los vehÃ­culos Mid-size.

## ETL y EDA de datasets relacionados con la contaminaciÃ³n sonora

### Car Noise (Web Scrapping)
Proporciona informaciÃ³n sobre los niveles de ruido de varios modelos de automÃ³viles en diferentes velocidades.

El DataFrame tiene un total de 1,894 filas y 10 columnas.

Los modelos de automÃ³viles se agrupan por marca, modelo y aÃ±o de fabricaciÃ³n.

<b>Niveles de ruido segÃºn Velocidad</b>

A simple vista podemos mencionar que aparentemente los db son directamente proporcionales a la velocidad, lo cual tiene sentido dado el funcionamiento mecÃ¡nico de un motor.

<p align= Center>
<img src="Imagenes/EDA_Complementario_01.jpg" width=800> </p>

<br> <b>Ruido por marca de Auto</b>

Se puede ver que independiente de la marca, el ruido a mayor velocidad es mayor. 

AdemÃ¡s, se observa que en posiciÃ³nat idle (regulando - velocidad 0) los valores raramente superan lo 50 dB.

El rango de velocidad que nos interesarÃ¡ en el estudio es at idle y 55 mph (80 km/h). Esto es porque, en general, en las ciudades grandes, raramente se superen los 80 km/h (velocidad mÃ¡xima en las circunvalaciones). 

<p align= Center>
<img src="Imagenes/EDA_Complementario_02.jpg" width=800> </p>

<br> <b>Ruido por aÃ±o</b>

En este grÃ¡fico, podemos ver la evoluciÃ³n promedio del ruido en dB de autos. 

Algo a destacar, que en el rango de interÃ©s (at idle y 55mph), el ruido a disminuido en el rango temporal que se tiene.

<p align= Center>
<img src="Imagenes/EDA_Complementario_03.jpg" width=800> </p>

## ETL y EDA de datasets relacionados con el transporte e infraestructura

### Electric and Alternative Fuel Charging Station.csv

Contiene informaciÃ³n sobre estaciones de carga de combustibles alternativos y vehÃ­culos elÃ©ctricos.

El conjunto de datos contiene un total de 70406 registros y 65 columnas. Las columnas proporcionan informaciÃ³n detallada sobre las estaciones de carga de combustibles alternativos y los servicios que ofrecen.

Podemos notar que hubo un incremento de la cantidad de estaciones en estos Ãºltimos aÃ±os, con un incremento importante en el aÃ±o 2021.

<p align= Center>
<img src="Imagenes/EDA_Complementario_04.jpg" width=800> </p>

### taxi+_zone_lookup.csv

Proporciona informaciÃ³n sobre las zonas de taxis en diferentes distritos, incluyendo detalles sobre las ubicaciones, distritos, nombres de zonas y zonas de servicio asociadas..
Consta de 265 filas y 4 columnas. Las filas representan diferentes ubicaciones de taxi en diversos distritos y zonas, junto con sus respectivas zonas de servicio.

### Yellow Taxis NY

Proporciona informaciÃ³n detallada sobre viajes en taxis en la ciudad de Nueva York, incluyendo detalles sobre las ubicaciones de inicio y fin, tarifas, costos adicionales, propinas y otros aspectos relacionados con el servicio de taxi.

El DataFrame tiene un total de 3,513,649 filas y 19 columnas.

Algunos datos respecto a la calidad de los datos:

- Hay valores faltantes en algunas columnas (por ejemplo, en la columna "passenger_count").

- La columna "trip_distance" muestra una amplia variedad de valores, incluidos valores atÃ­picos.

#### Distancias de viajes:

Se observa un promedio de viajes de al rededor de 2 millas (3,2 km) con mÃ¡ximos de hasta 7 millas (11,2 km).

<p align= Center>
<img src="Imagenes/EDA_Complementario_05.jpg" width=800> </p>

#### Costo de los viajes:

Se observa un promedio de 15 dÃ³lares por viaje sin outliers con mÃ¡ximos de hasta 40 dÃ³lares.

Hay algunos valores menores a 0 que habrÃ­a reveer, posiblemente sean equivocados.

<p align= Center>
<img src="Imagenes/EDA_Complementario_06.jpg" width=800> </p>

#### Modo de pago:

Para el modo de pago se debe tener en cuenta que: 0= Credit card 1= Cash 2= No charge 3= Dispute 4= Unknown 5= Voided trip

Se observa que la mayorÃ­a de los pagos son en efectivo.

<p align= Center>
<img src="Imagenes/EDA_Complementario_07.jpg" width=800> </p>

#### Viajes por zonas:

Se oberva que casi la totalidad de los viajes incluye el traslado entre distintas "*Taxi Zone*"

<p align= Center>
<img src="Imagenes/EDA_Complementario_08.jpg" width=800> </p>

#### Viajes segÃºn cantidad de pasajeros:

Se observa que gran porcentaje de los viajes son con un pasajero, con mÃ¡s de 2.5 millones de viajes (el 83% del total).

Esto puede ser una seÃ±al a la hora de decidir quÃ© modelo de auto incluir en nuestra flota, puesto que, quizÃ¡s, no convenga incorporar vehÃ­culos grandes (que suelen ser mÃ¡s costosos).

<p align= Center>
<img src="Imagenes/EDA_Complementario_09.jpg" width=800> </p>

### ETL y EDA de datasets complementarios

#### API historical-weather-api

Proporciona informaciÃ³n sobre las condiciones climÃ¡ticas, incluyendo temperaturas y precipitaciones, en diferentes momentos, a lo largo de un perÃ­odo de tiempo de un aÃ±o, con registros diarios.

El DataFrame tiene un total de 3,864 filas y 6 columnas.

Proporciona informaciÃ³n sobre las condiciones climÃ¡ticas, incluyendo temperaturas y precipitaciones, en diferentes momentos, a lo largo de un perÃ­odo de tiempo de un aÃ±o, con registros diarios.

El DataFrame tiene un total de 3,864 filas y 6 columnas.

#### PatrÃ³n de temperaturas en el aÃ±o:

En el siguiente grÃ¡fico de cajas se observa la clara tendencia de temperaturas segÃºn las estaciones del aÃ±o. 

Hay que remarcar que en invierno llegan a registrarse valores extremos de hasta -20Â°C. Sin embargo, en los meses cÃ¡lidos la temperatura no sobrepasa los 20Â°C, cual lo cual se deduce que Nueva York es una ciudad mÃ¡s bien fria.

El frio y la nieve son factores importantes a tener en cuenta en el negocio de los taxis, puesto que con temperaturas tan bajas, las personas tienden a trasladarse en el refugio abrigado de un vehÃ­culo.

<p align= Center>
<img src="Imagenes/EDA_Complementario_10.jpg" width=800> </p>

#### PatrÃ³n de precipitaciones:

La mayorÃ­a de las precipitaciones ocurren en los meses de verano.

Los dÃ­as de lluvia la gente tiende a usar mayormente vehÃ­culos (para no mojarse), por ende puede ser una informaciÃ³n Ãºtil para el negocio de los taxis.

<p align= Center>
<img src="Imagenes/EDA_Complementario_11.jpg" width=800> </p>

## Data Engineering :wrench: 
**

IntroducciÃ³n a los Servicios en la Nube: una perspectiva clarificadora
Los "cloud services" o servicios en la nube representan una innovadora modalidad de recursos informÃ¡ticos y aplicaciones, dispuestos a travÃ©s de la red global de internet. En contraposiciÃ³n a la tradicional albergada en servidores locales o en infraestructuras fÃ­sicas, estos servicios operan en entornos de servidores remotos, que pueden abarcar mÃºltiples localizaciones geogrÃ¡ficas. En esta dinÃ¡mica, los proveedores de servicios en la nube brindan a los usuarios una variada gama de capacidades, que incluyen capacidad de almacenamiento, potencia de procesamiento, bases de datos, programas y herramientas, todo accesible bajo demanda.

Los servicios en la nube se pueden dividir en tres categorÃ­as fundamentales:

Software as a Service (SaaS): Bajo este modelo, los usuarios acceden a aplicaciones y software directamente a travÃ©s de internet. La instalaciÃ³n y mantenimiento de software en dispositivos propios se torna innecesaria, ya que el procesamiento y almacenamiento se ejecutan en la nube. Ejemplos de SaaS engloban servicios como correo electrÃ³nico en lÃ­nea, suites de productividad y programas de gestiÃ³n empresarial.

Platform as a Service (PaaS): En esta categorÃ­a, los proveedores facilitan plataformas y herramientas para que desarrolladores puedan crear, desplegar y administrar aplicaciones en la nube. Los desarrolladores se focalizan en la creaciÃ³n de aplicaciones sin la carga de preocuparse por la infraestructura subyacente. Entornos de desarrollo web y bases de datos en la nube son ejemplos tangibles de PaaS.

Infrastructure as a Service (IaaS): En este modelo, se proveen recursos de infraestructura virtualizados, incluyendo servidores, almacenamiento y redes, a travÃ©s de internet. Los usuarios conservan mayor control sobre la configuraciÃ³n y manejo de estos recursos, similar a la gestiÃ³n de servidores fÃ­sicos, pero sin la necesidad de contar con hardware fÃ­sico. IaaS abarca mÃ¡quinas virtuales y servicios de almacenamiento en la nube, entre otros.

 

ExploraciÃ³n de plataformas
En las primeras etapas, se tomÃ³ la decisiÃ³n de analizar detenidamente tres plataformas diferentes para la implementaciÃ³n de nuestro Data Warehouse (DW), considerando sus caracterÃ­sticas y ventajas en consonancia con nuestros objetivos.

 


Planet Scale: Introducida como una base de datos 'serverless', Planet Scale se integra armÃ³nicamente con MySQL, ofreciendo no solo escalabilidad y rendimiento, sino tambiÃ©n un alto nivel de confiabilidad. Esta plataforma no compromete la experiencia del desarrollador. Al adoptar Planet Scale, accedemos a capacidades de fragmentaciÃ³n horizontal, cambios de esquema sin bloqueos y potentes funciones de base de datos, sin incurrir en las dificultades de su implementaciÃ³n.

Enlace a Planet Scale 

 


Render: Render se distingue por su asombrosa facilidad de uso y su sorprendente capacidad de empoderamiento, generando un entorno altamente escalable. Desde la administraciÃ³n de una simple pÃ¡gina HTML hasta la gestiÃ³n de aplicaciones complejas con mÃºltiples microservicios, Render presenta una soluciÃ³n integral y versÃ¡til.

Enlace a Render

 


Google Cloud Platform (GCP): GCP emerge como una suite integral de servicios en la nube, diseÃ±ada y proporcionada por Google. Esta plataforma abarca desde servicios de infraestructura hasta soluciones de nivel superior. Dentro de este amplio abanico, Platform as a Service (PaaS) ocupa una posiciÃ³n destacada. La selecciÃ³n de GCP para nuestro proyecto se fundamenta en su capacidad para unificar diversas herramientas bajo un mismo paraguas, evitando la incompatibilidad de software, hardware y otros componentes. Esta cohesiÃ³n contribuye significativamente a la eficiencia y coherencia en la operaciÃ³n del DW.

Enlace a Google Cloud Platform

Uso de Servicios Cloud (GCP)
Los servicios en la nube ofrecen una soluciÃ³n escalable y flexible para alojar aplicaciones, almacenar y gestionar datos, y realizar anÃ¡lisis en tiempo real. 

En este proyecto hemos utilizado un servicio PaaS, Google Cloud Platform (GCP), una suite completa de servicios en la nube proporcionados por Google.

La elecciÃ³n final se respalda en su conjunto de servicios en la nube que engloban desde computaciÃ³n y almacenamiento hasta anÃ¡lisis y aprendizaje automÃ¡tico. Al aprovechar las tecnologÃ­as que GCP pone a nuestra disposiciÃ³n, evitamos la complejidad de sincronizar mÃºltiples herramientas de distintos proveedores. En muchos casos, estas incompatibilidades pueden traducirse en barreras software-hardware que obstaculizan la eficiencia y la cohesiÃ³n. Entre las herramientas de GCP que serÃ¡n de utilidad en nuestro proyecto, destacamos:

Almacenamiento y bases de datos:

Cloud Storage: Proporciona un almacenamiento en la nube escalable y duradero para objetos y archivos.

Cloud SQL: Ofrece una base de datos SQL administrada.

AnÃ¡lisis y Big Data:

BigQuery: Brinda un almacÃ©n de datos y anÃ¡lisis en tiempo real a gran escala.

Dataflow: Facilita el procesamiento de datos en tiempo real y por lotes.

Dataproc: Proporciona un servicio administrado de Apache Spark y Hadoop.

Analytics y Machine Learning:

Diversas herramientas para anÃ¡lisis y aprendizaje automÃ¡tico, tales como Tensor Flow, AI Platform, entre otros.

Servicios de identidad y seguridad:

Identity and Access Management (IAM): Ofrece control de acceso y gestiÃ³n de identidades.

Otros servicios:

Cloud Functions: Posibilita la ejecuciÃ³n de cÃ³digo en respuesta a eventos.

Cloud Vision, Translation, Speech, Natural Language, Video AI: Proporciona servicios de inteligencia artificial para anÃ¡lisis de imÃ¡genes, traducciÃ³n, reconocimiento de voz, procesamiento de lenguaje natural y anÃ¡lisis de video.

La elecciÃ³n estratÃ©gica de GCP como plataforma principal subraya nuestro compromiso con la eficiencia, la coherencia y la compatibilidad en el diseÃ±o y operaciÃ³n de nuestro Data Warehouse.

Arquitectura:

 

Data Warehouse.
CreaciÃ³n del Data Warehouse 

 

Carga inicial:

 

Carga Incremental: 
La automatizaciÃ³n del Data Warehouse se logrÃ³ mediante la programaciÃ³n de procesos ETL (ExtracciÃ³n, TransformaciÃ³n y Carga) utilizando Google Dataflow. Esto permitiÃ³ la recopilaciÃ³n periÃ³dica de datos, su limpieza, transformaciÃ³n y carga en las tablas correspondientes.

Para garantizar la eficiencia en la carga de datos, implementamos un enfoque de carga incremental. Solo se cargaron los datos nuevos o modificados desde la Ãºltima ejecuciÃ³n del proceso ETL, lo que redujo el tiempo de procesamiento y asegurÃ³ la consistencia de los datos.

Enlace a video - PENDIENTE

 

Diagrama de Entidad - RelaciÃ³n (DER)
En nuestro Data Warehouse, se crearon dos tablas de hecho y cinco tablas de dimensiones. Las tablas de hecho contienen medidas cuantitativas de interÃ©s, mientras que las tablas de dimensiones almacenan atributos descriptivos que permiten contextualizar y analizar las medidas.


 

Tablas de Hecho:

Viajes: 

Proporciona informaciÃ³n sobre viajes que realiza la compaÃ±Ã­a en la ciudad de Nueva York, incluyendo detalles sobre las ubicaciones de inicio y fin y tarifas.

Autos_flota: 

Contiene informaciÃ³n sobre los vehÃ­culos que son propiedad de la empresa.

Clima: 

Proporciona informaciÃ³n sobre las condiciones climÃ¡ticas, incluyendo temperaturas y precipitaciones, en diferentes momentos, a lo largo de un perÃ­odo de tiempo de un aÃ±o, con registros diarios.

Estos datos se recogen de una API con una frecuencia mensual.

Tablas DimensiÃ³n:

Autos:  

Contiene datos detallados sobre la economÃ­a de combustible y las especificaciones tÃ©cnicas de una variedad de vehÃ­culos, incluyendo informaciÃ³n sobre consumo de combustible, emisiones de CO2 y ruido que produce el motor.

Taxi_zones: 

Proporciona informaciÃ³n sobre las zonas de taxis en diferentes distritos, incluyendo detalles sobre las ubicaciones, distritos, nombres de zonas y zonas de servicio asociadas..

Tipo_combustible: 

Tipo de combustible del vehÃ­culo.

Clase_vehiculo: 

Tipo de combustible del vehÃ­culo (Sedan, Hatchback, SUV, Pick Up).

Marca_auto: 

Fabricante del vehÃ­culo.

MÃ©todo_pago: 

MÃ©todo de pago utilizado para abonar el viaje.

AnalÃ­tica de datos.
Contexto
SegÃºn el artÃ­uclo publicado siempre auto (link en Fuente), la ciudad de Nueva York ha anunciado que requerirÃ¡ que las flotas de vehÃ­culos compartidos sean totalmente elÃ©ctricos para 2030.

Este es el plan de implementaciÃ³n de la iniciativa Green Rides: 

A partir de 2024, Nueva York requerirÃ¡ que el 5 % de todos los viajes de alquile se envÃ­en a vehÃ­culos elÃ©ctricos 

En 2025 aumentarÃ¡ al 15%.

En 2026 al 25%. 

En 2027 al 45%.

En 2028 al 65%.

En 2029 al 85%.

Y, finalmente, en 2030 aumentarÃ¡ al 100%.

Uber y Lyft, que en conjunto conforman 78,000 vehÃ­culos de viaje compartido en la ciudad de Nueva York, tambiÃ©n se comprometieron a hacer la transiciÃ³n a los vehÃ­culos elÃ©ctricos para 2030.

Fuente:

Nueva York, la primera ciudad del mundo en exigir vehÃ­culos elÃ©ctricos compartidos para 2030 - Siempre Auto 

En cuanto a los taxis, tambiÃ©n tendrÃ¡n que apegarse a esta normativa.

Actualmente, en la ciudad de Nueva York hay aproximadamente 13.000 taxis, en donde se estima que el 80% son vehÃ­culos hÃ­bridos Nissan NV200.

SituaciÃ³n actual de la empresa Taxi Green.
La empresa Taxi Green no cuenta actualmente con una flota de autos de uso compartido o taxi.

A los fines de estimar la evoluciÃ³n de los indicadores principales del negocio, se evalÃºan los viajes realizados en la ciudad de Nueva York por la flota existente de vehÃ­culos. Con este objetivo, se desarrolla un tablero de control. 

Finalmente, se desarrolla un modelo de machine learning con la finalidad de proponer las mejores alternativas de flotas compuestas por distintos modelos de vehÃ­culos, optimizando los KPIs.
